import React from 'react';
import { BrowserRouter as Router, Route, Routes, Link, useLocation } from 'react-router-dom';
import { motion, AnimatePresence } from 'framer-motion';
import { Camera, Edit, Film, Play, Menu, X } from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';

// Reusable animation variants
const pageVariants = {
  initial: { opacity: 0, y: 20 },
  in: { opacity: 1, y: 0 },
  out: { opacity: 0, y: -20 }
};

const pageTransition = {
  type: 'tween',
  ease: 'anticipate',
  duration: 0.5
};

const MotionLink = motion(Link);

const NavLink = ({ to, children }) => (
  <MotionLink
    to={to}
    className="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium"
    whileHover={{ scale: 1.1 }}
    whileTap={{ scale: 0.95 }}
  >
    {children}
  </MotionLink>
);

const Navbar = () => {
  const [isOpen, setIsOpen] = React.useState(false);

  return (
    <nav className="bg-gray-800">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between h-16">
          <div className="flex items-center">
            <Link to="/" className="flex-shrink-0">
              <img className="h-8 w-8" src="/path-to-your-logo.png" alt="Your Logo" />
            </Link>
            <div className="hidden md:block">
              <div className="ml-10 flex items-baseline space-x-4">
                <NavLink to="/">Home</NavLink>
                <NavLink to="/showreel">Showreel</NavLink>
                <NavLink to="/portfolio">Portfolio</NavLink>
                <NavLink to="/case-studies">Case Studies</NavLink>
                <NavLink to="/testimonials">Testimonials</NavLink>
                <NavLink to="/about">About</NavLink>
                <NavLink to="/contact">Contact</NavLink>
              </div>
            </div>
          </div>
          <div className="-mr-2 flex md:hidden">
            <button
              onClick={() => setIsOpen(!isOpen)}
              className="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"
            >
              <span className="sr-only">Open main menu</span>
              {isOpen ? <X className="block h-6 w-6" /> : <Menu className="block h-6 w-6" />}
            </button>
          </div>
        </div>
      </div>

      {isOpen && (
        <div className="md:hidden">
          <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            <NavLink to="/">Home</NavLink>
            <NavLink to="/showreel">Showreel</NavLink>
            <NavLink to="/portfolio">Portfolio</NavLink>
            <NavLink to="/case-studies">Case Studies</NavLink>
            <NavLink to="/testimonials">Testimonials</NavLink>
            <NavLink to="/about">About</NavLink>
            <NavLink to="/contact">Contact</NavLink>
          </div>
        </div>
      )}
    </nav>
  );
};

const HomePage = () => {
  return (
    <motion.div
      initial="initial"
      animate="in"
      exit="out"
      variants={pageVariants}
      transition={pageTransition}
    >
      {/* Hero Section */}
      <section className="relative h-screen flex items-center justify-center overflow-hidden">
        <video
          autoPlay
          loop
          muted
          className="absolute w-full h-full object-cover"
        >
          {/* Replace with your showreel video */}
          <source src="/path-to-your-showreel.mp4" type="video/mp4" />
        </video>
        <div className="relative z-10 text-center text-white">
          <h1 className="text-4xl md:text-6xl font-bold mb-4">
            Transforming Ideas into Powerful Visual Stories
          </h1>
          <Button size="lg" className="bg-blue-600 hover:bg-blue-700">
            View My Work
          </Button>
        </div>
      </section>

      {/* Introduction Section */}
      <section className="py-16 bg-white">
        <div className="container mx-auto px-4">
          <div className="flex flex-col md:flex-row items-center">
            <div className="md:w-1/3 mb-8 md:mb-0">
              {/* Replace with your headshot */}
              <img
                src="/path-to-your-headshot.jpg"
                alt="Your Name"
                className="rounded-full w-64 h-64 object-cover mx-auto"
              />
            </div>
            <div className="md:w-2/3 md:pl-8">
              <h2 className="text-3xl font-bold mb-4">Hi, I'm [Your Name]</h2>
              <p className="text-xl text-gray-600">
                {/* Add your personal introduction here */}
                A skilled video editor specializing in crafting high-impact social media videos and ads for brands that want to stand out.
              </p>
            </div>
          </div>
        </div>
      </section>

      {/* Services Section */}
      <section className="py-16 bg-gray-100">
        <div className="container mx-auto px-4">
          <h2 className="text-3xl font-bold mb-8 text-center">My Services</h2>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            <ServiceCard
              icon={<Film className="mr-2" />}
              title="Social Media Content Editing"
              description="Instagram, TikTok, YouTube, Facebook, and more."
            />
            <ServiceCard
              icon={<Play className="mr-2" />}
              title="Advertisement Video Editing"
              description="YouTube Ads, Social Media Ads, Corporate Videos."
            />
            <ServiceCard
              icon={<Edit className="mr-2" />}
              title="Post-production"
              description="Color grading, sound design, text animations, and effects."
            />
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-16 bg-blue-600 text-white">
        <div className="container mx-auto px-4 text-center">
          <h2 className="text-3xl font-bold mb-4">Ready to elevate your visual content?</h2>
          <Button size="lg" variant="secondary">
            Get in Touch
          </Button>
        </div>
      </section>
    </motion.div>
  );
};

const ServiceCard = ({ icon, title, description }) => (
  <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
    <Card>
      <CardHeader>
        <CardTitle className="flex items-center">
          {icon} {title}
        </CardTitle>
      </CardHeader>
      <CardContent>{description}</CardContent>
    </Card>
  </motion.div>
);

const ShowreelPage = () => (
  <motion.div
    initial="initial"
    animate="in"
    exit="out"
    variants={pageVariants}
    transition={pageTransition}
    className="container mx-auto px-4 py-16"
  >
    <h1 className="text-4xl font-bold mb-8">Showreel</h1>
    <div className="aspect-w-16 aspect-h-9">
      {/* Replace with your showreel video */}
      <iframe
        src="https://www.youtube.com/embed/your-showreel-id"
        frameBorder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowFullScreen
      ></iframe>
    </div>
    <div className="mt-8">
      <h2 className="text-2xl font-bold mb-4">Project Highlights</h2>
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {/* Add your project highlights here */}
        <ProjectCard
          title="Brand Name Campaign"
          description="Increased Engagement by 30%"
          imageUrl="/path-to-project-image.jpg"
        />
        {/* Add more ProjectCard components as needed */}
      </div>
    </div>
  </motion.div>
);

const ProjectCard = ({ title, description, imageUrl }) => (
  <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
    <Card>
      <img src={imageUrl} alt={title} className="w-full h-48 object-cover" />
      <CardContent>
        <h3 className="text-xl font-bold mb-2">{title}</h3>
        <p>{description}</p>
      </CardContent>
    </Card>
  </motion.div>
);

const PortfolioPage = () => (
  <motion.div
    initial="initial"
    animate="in"
    exit="out"
    variants={pageVariants}
    transition={pageTransition}
    className="container mx-auto px-4 py-16"
  >
    <h1 className="text-4xl font-bold mb-8">Portfolio</h1>
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {/* Add your portfolio items here */}
      <PortfolioItem
        title="Luxury Brand Instagram Ad"
        description="30 seconds"
        videoUrl="/path-to-video.mp4"
        thumbnailUrl="/path-to-thumbnail.jpg"
      />
      {/* Add more PortfolioItem components as needed */}
    </div>
  </motion.div>
);

const PortfolioItem = ({ title, description, videoUrl, thumbnailUrl }) => {
  const [isPlaying, setIsPlaying] = React.useState(false);

  return (
    <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
      <Card>
        <div className="relative">
          {isPlaying ? (
            <video src={videoUrl} controls className="w-full" />
          ) : (
            <img src={thumbnailUrl} alt={title} className="w-full h-48 object-cover" />
          )}
          <Button
            onClick={() => setIsPlaying(!isPlaying)}
            className="absolute inset-0 w-full h-full opacity-0 hover:opacity-100 flex items-center justify-center bg-black bg-opacity-50 text-white"
          >
            {isPlaying ? 'Pause' : 'Play'}
          </Button>
        </div>
        <CardContent>
          <h3 className="text-xl font-bold mb-2">{title}</h3>
          <p>{description}</p>
        </CardContent>
      </Card>
    </motion.div>
  );
};

const CaseStudiesPage = () => (
  <motion.div
    initial="initial"
    animate="in"
    exit="out"
    variants={pageVariants}
    transition={pageTransition}
    className="container mx-auto px-4 py-16"
  >
    <h1 className="text-4xl font-bold mb-8">Case Studies</h1>
    <div className="space-y-16">
      {/* Add your case studies here */}
      <CaseStudy
        title="Brand Name Campaign"
        goal="Create a 15-second Instagram ad to drive sales"
        challenges="Tight deadline, low-quality footage"
        solution="Utilized advanced color correction and motion graphics to enhance footage quality"
        results="Increased engagement by 50%, drove 10,000 new followers"
      />
      {/* Add more CaseStudy components as needed */}
    </div>
  </motion.div>
);

const CaseStudy = ({ title, goal, challenges, solution, results }) => (
  <Card>
    <CardContent className="space-y-4">
      <h2 className="text-2xl font-bold">{title}</h2>
      <div>
        <h3 className="text-xl font-semibold">Goal</h3>
        <p>{goal}</p>
      </div>
      <div>
        <h3 className="text-xl font-semibold">Challenges</h3>
        <p>{challenges}</p>
      </div>
      <div>
        <h3 className="text-xl font-semibold">Solution</h3>
        <p>{solution}</p>
      </div>
      <div>
        <h3 className="text-xl font-semibold">Results</h3>
        <p>{results}</p>
      </div>
    </CardContent>
  </Card>
);

const TestimonialsPage = () => (
  <motion.div
    initial="initial"
    animate="in"
    exit="out"
    variants={pageVariants}
    transition={pageTransition}
    className="container mx-auto px-4 py-16"
  >
    <h1 className="text-4xl font-bold mb-8">Testimonials</h1>
    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
      {/* Add your testimonials here */}
      <Testimonial
        name="John Doe"
        company="Tech Startup Inc."
        quote="Working with [Your Name] was an absolute pleasure. Their creativity and attention to detail truly elevated our brand's social media presence."
        imageUrl="/path-to-client-image.jpg"
      />
      {/* Add more Testimonial components as needed */}
    </div>
  </motion.div>
);

const Testimonial = ({ name, company, quote, imageUrl }) => (
  <Card>
    <CardContent className="flex items-center space-x-4">
      <img src={imageUrl} alt={name} className="w-16 h-16 rounded-full" />
      <div>
        <blockquote className="text-lg italic">"{quote}"</blockquote>
        <p className="mt-2 font-semibold">{name}, {company}</p>
      </div>
    </CardContent>
  </Card>
);

const AboutPage = () => (
  <motion.div
    initial="initial"
    animate="in"
    exit="out"
    variants={pageVariants}
    transition={
